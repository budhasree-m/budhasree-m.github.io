<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Self-Directed Learning Assessment</title>
  <style>
    * {
      font-family: 'Open Sans', sans-serif;
	  }
    body {
      font-family: 'Open Sans', sans-serif;
      padding: 10px;
      max-width: 100%;
	  width: 90%;
      margin: auto;
      background-image: url('https://github.com/budhasree-m/budhasree-m.github.io/blob/main/Self-Directed-Learning/Background.png?raw=true');
	  background-size: cover;         /* Scale image to cover full screen */
	  background-repeat: no-repeat;     /* Prevent tiling */
	  background-position: center;      /* Center the image */
	  background-attachment: fixed;     /* Parallax scroll effect */
	  opacity: 0.99;
	  overflow-x: hidden; /* 👈 Prevents horizontal scroll */
	  z-index: 0;
	  transition: background-image 0.5s ease-in-out;
    }
	h1, h2 {
      color: #1a252f;
	   text-align: center;
    }
    fieldset {
      margin-bottom: 10px; /* Reduce this value if it's large */
	  padding-bottom: 10px; /* Optional: tighten internal spacing */
      border: none;
      background-color: #ffffff;
      border-radius: 8px;
	  border-left: 5px solid #007bff;
	  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    legend {
      font-weight: bold;
      font-size: 1.2em;
	  color: #1a252f;
	  text-align: center;
	  margin-bottom: 0 !important;
    }
    .question {
	  display: flex;
	  flex-direction: column; /* stack items vertically on mobile */
	  align-items: center; /* Center-aligns all content inside the question block */
	  text-align: center;
	  margin-bottom: 15px;
	}	
    .scale {
      display: flex;
	  justify-content: center;  /* Centers the radio button group */
	  flex-wrap: wrap;
      gap: 12px;
	  margin-top: 6px;
    }
	.scale span {
      display: inline-block;
      width: 80px;
      text-align: center;
	  font-size: 0.8em;
    }
    label {
      margin-right: 5px;
	  font-size: 0.9em;
	  display: inline-flex;
	  align-items: center;
	  line-height: 1.2;
    }
    .result {
      margin-top: 30px;
      font-weight: bold;
      color: #1a252f;
      font-size: 1em;
	  text-align: center;
    }
    .intro, .note, .suggestions {
      margin-bottom: 30px;
      background-color: #e9ecef;
      padding: 15px;
      border-left: 4px solid #28a745;
	  border-right: 4px solid #28a745;
      border-radius: 5px;
	  text-align: center;
    }
	.suggestions{
	display: none; }
	.hero {
	  text-align: center;
	  margin-bottom: 30px;
	}
	.hero h1 {
	  font-size: 1.8em;
	  color: #1a252f;
	}
	.hero p {
	  font-size: 1.1em;
	  color: #555;
	  max-width: 700px;
	  margin: 0 auto;
	}
	.cta-footer {
	  text-align: center;
	  margin-top: 40px;
	  font-size: 0.95em;
	  color: #555;
	}
	.download-section {
	  text-align: center;
	  margin-top: 30px;
	}
	.download-section button {
	  background-color: #28a745;
	  color: white;
	  padding: 10px 20px;
	  font-size: 1em;
	  border: none;
	  border-radius: 5px;
	  cursor: pointer;
	}
	.download-section button:hover {
	  background-color: #0056b3;
	}
	@media print {
	  body {
		zoom: 0.5;
		font-size: 14px;
	  }
	  
	  /* Optional: remove buttons and non-print content */
	   .question-slide, 
       form, 
	   button,
	   .progress,
	   .estimate,
	   .note,
	  .download-section,
	  .retake-section,
	  .cta-footer {
		display: none !important;
	  }
	    
	   canvas {
		max-width: 100% !important;
		height: auto !important;
	  }
	  
	  #result, 
	  #suggestions, 
	  #scoreChart, 
	  #chartLegend {
		display: block !important;
	  }

	  #scoreChart {
		max-width: 100% !important;
		height: auto !important;
		margin-bottom: 30px;
	  }
	}
	@media (max-width: 768px) {
	  body {
		padding: 10px;
		font-size: 16px;
		width: 95%;
		max-width: 100%;
		overflow-x: hidden;
	  }
	  h1, h2 {
		font-size: 1.4em;
		text-align: center;
	  }

	  .question {
		flex-direction: column;
		align-items: flex-start;
		margin-bottom: 20px;
	  }

	  .scale {
		display: flex;
		flex-wrap: wrap;
		gap: 10px;
		margin-top: 6px;
	  }
	  
	  .scale span {
		  display: inline-block;
		  width: 60px;
		  text-align: center;
		  font-size: 0.6em;
		}

	  .scale label {
		font-size: 0.85em;
		display: flex;
		align-items: center;
	  }

	  canvas {
		width: 100% !important;
		height: auto !important;
		display: block;
		margin: 0 auto;
	  }

	  .submit-wrapper,
	  .retake-section,
	  .download-section {
		text-align: center;
	  }
	  
	  button, input[type="radio"] {
		min-height: 44px;
		font-size: 1em;
	  }

	  fieldset {
		padding: 15px;
		border-left: 4px solid #007bff;
	  }
	}
	
	@media (max-width: 375px) { /* iPhone SE and similar */
	  body {
		font-size: 15px;
	  }

	  h1, h2 {
		font-size: 1.2em;
	  }

	  .scale label {
		font-size: 0.75em;
	  }
	  
	    .scale span {
		  font-size: 0.5em;
		}

	  .result, .suggestions, .note {
		font-size: 0.95em;
	  }
	}

	@media (min-width: 769px) and (max-width: 1024px) { /* Tablet-specific */
	  body {
		padding: 20px;
		font-size: 17px;
		width: 90%;
	  }

	  .question {
		flex-direction: column;
	  }

	  .scale label {
		font-size: 0.9em;
	  }
	  
	   .scale span {
		  font-size: 0.8em;
		}


	  canvas {
		width: 100% !important;
	  }
	}


	.retake-section {
	  text-align: center;
	  margin-top: 15px;
	}
	.retake-section button {
	  background-color: #6c757d;
	  color: white;
	  padding: 10px 20px;
	  font-size: 1em;
	  border: none;
	  border-radius: 5px;
	  cursor: pointer;
	}
	.retake-section button:hover {
	  background-color: #5a6268;
	}
	button[type="submit"] {
	  background-color: #28a745;
	  color: white;
	  padding: 10px 25px;
	  font-size: 1em;
	  border: none;
	  border-radius: 5px;
	  cursor: pointer;
	}
	button[type="submit"]:hover {
	  background-color: #218838;
	}
	button, input[type="radio"] {
	  touch-action: manipulation;
	  min-height: 44px; /* Recommended touch target */
	}
	input[type="radio"] {
	  vertical-align: middle;
	  margin-top: 0;
	}
	.submit-wrapper {
	  display: flex;
	  justify-content: center;
	  margin-top: 30px;
	}
	.question-slide { 
	   display: none;
	   max-width: 800px;
	   width: 100%;
	   text-align: center;
	   justify-content: center;
	    margin-bottom: 10px; /* Add or reduce this */
	 }
    .question-slide.active { 
		display: block;
		max-width: 800px;
	   width: 100%;
	   text-align: center;
	   justify-content: center;
	   margin: 0 auto;
     }
	.nav-buttons-inside {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      padding: 0 20px;
    }
    .nav-buttons-inside button {
      padding: 8px 16px;
      font-size: 0.9em;
    }

	.nav-buttons-inside button:hover {
	  background-color: #0056b3;
	}
	#backBtn, #nextBtn {
	  padding: 6px 14px;
	  font-size: 0.9em;
	}
    .progress {
      text-align: center;
      margin-bottom: 20px;
      font-weight: bold;
      color: #1a252f;
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <link rel="preload" as="image" href="https://github.com/budhasree-m/budhasree-m.github.io/blob/main/Self-Directed-Learning/Background.png?raw=true">
</head>
<body>
  <div class="hero">
  <h1>How Self-Directed Are You as a Learner?</h1>
  
  
  <p>This simple, research-backed assessment helps you understand how independently you learn - across awareness, strategy, activities, evaluation and interpersonal skills.</p>
  <br><br>
	<div class="estimate" id="estimate"><strong>Estimated time:</strong> ~5 minutes</div>
	 <!--<p><strong>Likert Scale:</strong> 5 = Always, 4 = Often, 3 = Sometimes, 2 = Seldom, 1 = Never</p>-->
	</div>

  <!-- <div class="intro">
    This readiness assessment is to try to identify learner's levels of self-directedness in learning, especially for adults. Please read and choose the most appropriate response for each statement indicating the level at which you rate yourself. 
	Please note that your first reaction to every statement is the most accurate response; therefore, do not spend too long to respond.<br><br>
   <!-- The 'any other' space is provided for you to add any other issues about self-directedness in learning you think relevant. A 'scoring sheet' is included for you to assess the level of your self-directedness in learning.-->
	
  </div>
  
  <div class="note">
     <strong>Important:</strong> This assessment is for your personal growth. The scores - <strong> Low, Moderate, and High</strong> are not to be viewed as a hierarchy but as helpful categories. Everyone learns differently, and we all need different kinds of support to grow. If you score Low, mentorship alone may not help - instead, you may need deeply personalized support and redesigned learning environments. 
	<br><br>
	<strong>"Inclusion, context, and compassion matter more than competition."</strong>
  </div>
  
  <div class="progress" id="progressText">Question 1 of 25</div>

 
  <form id="surveyForm">
    <!-- Questions inserted dynamically here -->
  </form>
  
 
   <div class="submitBtn" id="submitBtn"></div>
  
  	  <div class="result" id="result"></div>
	  <br><br>
	   <div class="suggestions" id="suggestions"></div>
		<br><br>
	  <div id="chartLegend" style="display: none; position: 'right'; max-width: 600px; margin: 10px auto 30px; font-size: 0.9em; color: #444;">
		  <p><strong>Level of Self-Directedness:</strong></p>
		  <ul style="list-style: none; padding-left: 0;">
			<li><span style="display:inline-block;width:15px;height:15px;background-color:#dc3545;margin-right:8px;"></span> Low</li>
			<li><span style="display:inline-block;width:15px;height:15px;background-color:#ffc107;margin-right:8px;"></span> Moderate</li>
			<li><span style="display:inline-block;width:15px;height:15px;background-color:#28a745;margin-right:8px;"></span> High</li>
		  </ul>
		
		 <div style="max-width: 600px; margin: 30px auto;">
		  <canvas id="scoreChart"></canvas>
		</div>	
</div>

<div class="download-section" id="download-section"></div>
  
  
	
	<div class="retake-section" id="retake-section"></div>
  
  <div class="cta-footer" id ="cta-footer">  
	</div>
  	
	<div class="reference" style="margin-top: 40px; font-size: 0.9em; color: #444;" id="reference">
  <p><strong>Reference:</strong> Williamson, S. N. (2007). Development of a self-rating scale of self-directed learning. <a href="https://knilt.arcc.albany.edu/images/3/39/Williamson.pdf" target="_blank">[Read the original paper]</a></p>
  <p><em>Special thanks to the author, Swapna Naskar Williamson, for contributing to the understanding of learner autonomy through thoughtful research.</em></p>
</div>

  <p style="margin-top: 50px; font-style: italic; text-align: right;">Created by Budha Sree M, Data Professional & Research Consultant</p>

  <script>
    const categories = {
      "Self-Awareness and Direction": [
        "I can usually tell when I\'ve hit a learning gap - even before someone points it out.",
        "I learn things before they become urgent, not just in crisis mode.",
        "I choose what to learn based on what feels meaningful or useful to me.",
        "When I get overwhelmed or stuck, I know when to pause and reset.",
        "I\'m more motivated when I understand why something matters to me."
      ],
      "Learning Strategies": [
        "When something feels confusing, I try a different approach instead of giving up.",
        "I save or bookmark helpful content - articles, videos, tools - to revisit later.",
        "I look for real examples or situations to help understand complex ideas.",
        "I pace my learning so I don\'t burn out or feel guilty for taking breaks.",
        "Even if it\'s a bit messy, I have a system to organize what I\'m learning."
      ],
      "Application and Real-World Practice": [
        "I\'ve actually used what I learned to solve a real-world problem.",
        "When I come across something I\'ve learned before, I enjoy connecting the dots.",
        "If something I tried doesn\'t work, I take time to figure out what went wrong.",
        "I ask for feedback or advice when I\'m unsure if I\'ve applied something correctly.",
        "I often relate what I\'m learning to goals that matter to me personally."
      ],
      "Self-Assessment and Growth Monitoring": [
        "I can tell I\'m getting better at something without needing others to say so.",
        "I keep a journal, tracker, or at least a mental note of what I\'ve been learning.",
        "I test myself casually - just to see if I still remember or understand something.",
        "I often pause to reflect: \"Is this way of learning really working for me?\"",
        "I celebrate small wins when I stay consistent with learning."
      ],
      "Connected Learning and Community": [
        "I understand things better after I talk about them with someone else.",
        "I\'ve picked up something unexpected from a conversation or online community.",
        "When I figure something out, I like helping others understand it too.",
        "I\'m part of a learning group, online space, or community where ideas are shared.",
        "I know my learning style is different, and I\'m okay with that - it works for me."
      ]
    };
	
	 <!--adds subtle guidance, makes each section more welcoming, and reminds users that reflection is the goal — not performance.-->
		const intros = {
		  'Self-Awareness and Direction': 'Learning begins the moment you know what you don\'t know.',
		  'Learning Strategies': 'How you learn often matters more than what you learn.',
		  'Application and Real-World Practice': 'Learning sticks when it meets reality.',
		  'Self-Assessment and Growth Monitoring': 'If you can\'t measure it, you\'ll struggle to improve it.',
		  'Connected Learning and Community': 'No one learns alone — even when they\'re learning solo.'
		};
				

    const form = document.getElementById('surveyForm');
	const questionSlides = [];
    let currentIndex = 0;
    const totalQuestions = Object.values(categories).flat().length;

	 let questionCount = 0;
    Object.entries(categories).forEach(([section, questions], sectionIndex) => {
	
	  questions.forEach((q, qIndex) => {
	    const slide = document.createElement('div');
        slide.className = 'question-slide';
        if (questionCount === 0) slide.classList.add('active');
		
	  const fieldset = document.createElement('fieldset');
	  const sectionColors = ['#007bff', '#17a2b8', '#28a745', '#ffc107', '#6f42c1'];
	  const legend = document.createElement('legend');
	  legend.innerText = section;
	  fieldset.appendChild(legend);
	  
	  const introPara = document.createElement('p');
		introPara.innerText = intros[section];
		introPara.style.fontStyle = 'italic';
		introPara.style.fontWeight = 'bold';
		introPara.style.marginBottom = '30px';
		fieldset.appendChild(introPara);     
	  
	  	
        const div = document.createElement('div');
        div.className = 'question';
		
        const left = document.createElement('div');
        left.innerText = q;
		
        const right = document.createElement('div');
        right.className = 'scale';
		
		const scaleNames = { 5: 'Always', 4: 'Often', 3: 'Sometimes', 2: 'Rarely', 1: 'Never' };
        for (let i = 5; i >= 1; i--) {
          const inputId = `${sectionIndex}_${qIndex}_${i}`;
          right.innerHTML += `
            <label><input type="radio" name="${sectionIndex}_${qIndex}" value="${i}" required> ${scaleNames[i]} </label>
          `;
        }
        div.appendChild(left);
        div.appendChild(right);		
        fieldset.appendChild(div);
		
		const nav = document.createElement('div');
        nav.className = 'nav-buttons-inside';
		
		const backBtn = document.createElement('button');
        backBtn.type = 'button';
		backBtn.id = 'backBtn';
        backBtn.innerText = 'Back';
		backBtn.addEventListener('click', () => {
		  navigateQuestion(-1);
		});
		
		nav.appendChild(backBtn);
		
        const nextBtn = document.createElement('button');
        nextBtn.type = 'button';
		nextBtn.id = 'nextBtn';
        nextBtn.innerText = 'Next';
		nextBtn.addEventListener('click', () => {
		  navigateQuestion(1);
		});			
		nav.appendChild(nextBtn);
		
		fieldset.appendChild(nav);
		
		slide.appendChild(fieldset);
        form.appendChild(slide);
        questionSlides.push(slide);
        questionCount++;
		
		fieldset.style.borderLeft = `5px solid ${sectionColors[sectionIndex]}`;
		fieldset.style.borderRight = `5px solid ${sectionColors[sectionIndex]}`;
		
		
		
		
	
      });
      <!--form.appendChild(fieldset);-->
    });
	
	const submitBtn = document.createElement('button');
    submitBtn.type = 'submit';
	submitBtn.style.display = 'none';  // Hide it initially
    submitBtn.innerText = 'Submit';
    
	const submitWrapper = document.createElement('div');
	submitWrapper.className = 'submit-wrapper';
	submitWrapper.appendChild(submitBtn);  
    
      	
	function navigateQuestion(step) {
	  const slides = document.querySelectorAll('.question-slide');
	  const totalQuestions = slides.length;  
	  
	  // Prevent moving forward without answering
	  if (step === 1) {
		const currentSlide = slides[currentIndex];
		const radioGroupName = currentSlide.querySelector('input[type="radio"]').name;
		const isAnswered = !!currentSlide.querySelector(`input[name="${radioGroupName}"]:checked`);
		
		if (!isAnswered) {
		  alert("Please select an option before proceeding.");
		  return; // stop navigation
		}
	  }

	  // Hide current question
	  slides[currentIndex].classList.remove('active');

	  // Update index
	  currentIndex += step;
	  currentIndex = Math.max(0, Math.min(currentIndex, totalQuestions - 1));

	  // Show new question
	  slides[currentIndex].classList.add('active');

	  // Disable/enable navigation buttons
	  backBtn.disabled = currentIndex === 0;
	  nextBtn.disabled = currentIndex === totalQuestions - 1;

	  // Optional: Scroll to question smoothly
	  slides[currentIndex].scrollIntoView({ behavior: 'smooth', block: 'start' });
	  
	  progressText.innerText = `Question ${currentIndex + 1} of ${slides.length}`;
	  
	  if(currentIndex === slides.length - 1)
	  {
	  submitBtn.style.display = 'inline-block';
	  }
	}	
		
	   
	form.appendChild(submitWrapper);
		
   
	
    form.onsubmit = function(e) {
      e.preventDefault();
      const data = new FormData(form);
      let scores = { 'Self-Awareness and Direction': 0, 'Learning Strategies': 0, 'Application and Real-World Practice': 0, 'Self-Assessment and Growth Monitoring': 0, 'Connected Learning and Community': 0  };
      let categoryIndex = 0;
      Object.entries(categories).forEach(([section, questions]) => {
        let sectionScore = 0;
        questions.forEach((_, qIndex) => {
          sectionScore += parseInt(data.get(`${categoryIndex}_${qIndex}`));
        });
        scores[section] = sectionScore;
        categoryIndex++;
      });

      const grandTotal = Object.values(scores).reduce((a, b) => a + b, 0);
      let level = '', interpretation = '', suggestions = '';
      if (grandTotal <= 60) {
        level = 'Low';
		interpretation = 'Guidance is definitely needed from the teacher.';
      } else if (grandTotal <= 90) {
        level = 'Moderate';
        interpretation = 'You are halfway to becoming a self-directed learner.';
      } else {
        level = 'High';
        interpretation = 'You demonstrate strong self-directed learning skills.';
      }
	  
	  const high = [], moderate = [], low = [];
	  
	    <!--Suggestion Framework by Category-->
	  	if (scores['Self-Awareness and Direction'] <= 10) {
			suggestions += '<br> You may know something\'s off, but struggle to articulate what to learn or when. Try journaling or talking aloud about your frustrations.<br>';
			low.push('Self-Awareness and Direction');
			}
			else if (scores['Self-Awareness and Direction'] <= 18) {
			suggestions += '<br>You\'re aware of gaps but may wait for urgency. Start using curiosity as a compass, not stress.<br>';
			moderate.push('Self-Awareness and Direction');
			}
			else { 
			suggestions += '<br>You clearly self-initiate learning. Share this confidence with someone who\'s stuck.<br>';
			high.push('Self-Awareness and Direction');
			}
		
		if (scores['Learning Strategies'] <= 10) {
			suggestions += '<br>You might be using the same methods even when they stop working. Try experimenting with how you learn, not just what.<br>';
			low.push('Learning Strategies');
			}
			else if (scores['Learning Strategies'] <= 18) {
			suggestions += '<br>You\'re exploring strategies, but maybe inconsistently. Try tracking what works best for you.<br>';
			moderate.push('Learning Strategies');
			}
			else { 
			suggestions += '<br>You\'re adaptable and strategic. Consider documenting your approach to help others.<br>';
			high.push('Learning Strategies');
			}
			
		 if (scores['Application and Real-World Practice'] <= 10) {
			suggestions += '<br>You\'re learning, but not applying it enough. Find micro-ways to test ideas in real life.<br>';
			low.push('Application and Real-World Practice');
			}
			else if (scores['Application and Real-World Practice'] <= 18) {
			suggestions += '<br>You sometimes apply learning but may not reflect deeply. Try a learning log or share lessons learned.<br>';
			moderate.push('Application and Real-World Practice');
			}
			else { 
			suggestions += '<br>You\'re a hands-on learner. Keep integrating what you learn with action.<br>';
			high.push('Application and Real-World Practice');
			}
			
		if (scores['Self-Assessment and Growth Monitoring'] <= 10) {
			suggestions += '<br>You might be moving but unsure if you\'re growing. Begin a habit of self-check-ins weekly.<br>';
			low.push('Self-Assessment and Growth Monitoring');
			}
			else if (scores['Self-Assessment and Growth Monitoring'] <= 18) {
			suggestions += '<br>You\'re reflecting sometimes. Add regular prompts like \'What worked?\' after each learning session.<br>';
			moderate.push('Self-Assessment and Growth Monitoring');
			}
			else { 
			suggestions += '<br>You\'re your own best coach. Share your growth journey with others.<br>';
			high.push('Self-Assessment and Growth Monitoring');
			}
			
		if (scores['Connected Learning and Community'] <= 10) {
			suggestions += '<br>You may feel alone in your learning. You don\'t just need a mentor - you need a community. Try Discord groups, book clubs, or local learning spaces.<br>';
			low.push('Connected Learning and Community');
			}
			else if (scores['Connected Learning and Community'] <= 18) {
			suggestions += '<br>You connect occasionally. Make it a habit to learn with others, not just near others.<br>';
			moderate.push('Connected Learning and Community');
			}
			else { 
			suggestions += '<br>You thrive in community learning. Consider organizing or hosting a learning circle.<br>';
			high.push('Connected Learning and Community');
			}
			
				
				
		  <!-- Specific fun combinations — examples below-->
		  const key = `${high.includes('Self-Awareness and Direction') ? 'H' : low.includes('Self-Awareness and Direction') ? 'L' : 'M'}${high.includes('Learning Strategies') ? 'H' : low.includes('Learning Strategies') ? 'L' : 'M'}${high.includes('Application and Real-World Practice') ? 'H' : low.includes('Application and Real-World Practice') ? 'L' : 'M'}${high.includes('Self-Assessment and Growth Monitoring') ? 'H' : low.includes('Self-Assessment and Growth Monitoring') ? 'L' : 'M'}${high.includes('Connected Learning and Community') ? 'H' : low.includes('Connected Learning and Community') ? 'L' : 'M'}`;

		  const titles = {
			'HHHHH': '🌟 You\'re the Self-Driven Sage.',
			'LLLLL': '🚧 You\'re in the Seed Stage: Greatness Yet to Bloom.',
			'HLHLH': '⚡ You\'re the Lone Explorer with a Lightning Brain.',
			'HLLLH': '🎯 You\'re the Connector Without a Compass.',
			'MLMLM': '🌀 You\'re the Reflective Wanderer.',
			'HMMHM': '🛠️ You\'re the Tinkerer with Untapped Wisdom.',
			'LLLHL': '⛅ You\'re the Flickers of Insight in a Foggy Sky.',
			'LMHHL': '📚 You\'re the The Wildcard Strategist.',
			'HLHLL': '🔍 You\'re the The Pattern Seeker, Still Grounding.',
			'MLMHH': '💬 You\'re the Social Sage, Inner Explorer.',
			'LHHHL': '🧭 You\'re the Tactical Learner, Lacking Roots.',
			'HHLHH': '✨ You\'re the Visionary With Practical Fire.',
			'LHHHH': '🔗 You\'re the The Connected Strategist.',
			'HHLHL': '🧠 You\'re the Brain on Fire, Soul in Waiting.',
			'MMMMM': '🧘 You\'re the Balanced Seeker — Centered, but Still Searching.'
		  };
		  
		const summarytitle = titles[key] || '🧩 You\'re a Work-in-Progress Puzzle.';

      document.getElementById('result').innerHTML = `        
        <p><strong>You've completed the reflection.</strong></p>
		<p><strong>${summarytitle} You\'ve ${level} level of Self-Directedness.</strong><br><br></p>
      `;
      document.getElementById('suggestions').style.display = 'block';	  
      document.getElementById('suggestions').innerHTML = `<strong>Suggested Navigation:</strong>${interpretation}<br><br> ${suggestions}`;
	  document.getElementById('cta-footer').innerHTML = `<p>If this made you reflect, consider sharing your insights or reaching out to explore more self-designed learning tools.</p>`;
	  document.getElementById('download-section').innerHTML = `<button onclick="window.print()">Download Your Reflection as PDF</button>`;
	  document.getElementById('retake-section').innerHTML = `<button onclick="retakeSurvey()">Retake Survey</button>`;
	  document.getElementById('chartLegend').style.display = 'block';
	  document.getElementById('result').scrollIntoView({
		  behavior: 'smooth',
		  block: 'start'
		});
	  
	    // Chart Drawing Logic
		  const ctx = document.getElementById('scoreChart').getContext('2d');
		  const sectionLabels = Object.keys(scores);
		  const sectionValues = Object.values(scores);

		  const colors = sectionValues.map(score => {
			if (score <= 10) return '#dc3545';     // Red
			if (score <= 18) return '#ffc107';     // Yellow
			return '#28a745';                      // Green
		  });

		  if (window.myChart) {
			window.myChart.destroy();
		  }

		  window.myChart = new Chart(ctx, {
			type: 'bar',
			data: {
			  labels: sectionLabels,
			  datasets: [{
				label: 'Your Score by Section',
				data: sectionValues,
				backgroundColor: colors
			  }]
			},
			options: {
			  scales: {
				y: {
				  beginAtZero: true,
				  suggestedMax: 25
				}
			  },
			  plugins: {
				legend: {
				  display: false
				},
				title: {
				  display: true,
				  text: 'Self-Directed Learning Score'
				}
			  }
			}
		  });

    };  
     

	  function retakeSurvey() {
	  // Clear form
	  document.getElementById('surveyForm').reset();

	  // Remove results
	  document.getElementById('result').innerHTML = '';
	  document.getElementById('suggestions').innerHTML = '';

	  // Scroll to top
	  window.scrollTo({ top: 0, behavior: 'smooth' });
	}
      if ('scrollRestoration' in history) {
		history.scrollRestoration = 'manual';
	  }
	  window.scrollTo(0, 0);
  </script>
</body>
</html>
